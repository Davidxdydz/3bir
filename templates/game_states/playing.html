{% extends "base.html" %}


{% block content %}
<div class="mx-auto max-w-4xl">
    <div class="panel">
        <p>remaining gaming time:
        <div id="timer">00:00:00</div>
        </p>
        <p class="section-subtitle">In play</p>
        <h1 class="page-heading">{{ game.team_a.name }} vs {{ game.team_b.name }}</h1>

        <p class="text-base text-slate-300">Monitor the score and submit the final result when the game ends.</p>
        <div class="grid gap-6 md:grid-cols-2">
            <div class="score-card">
                <p class="score-label">{{ game.team_a.name }}</p>
                <p class="score-value">{{ game.team_a_score }}</p>
            </div>
            <div class="score-card">
                <p class="score-label">{{ game.team_b.name }}</p>
                <p class="score-value">{{ game.team_b_score }}</p>
            </div>
        </div>
        <p class="text-center text-sm uppercase tracking-[0.3em] text-white/60">Timer running</p>
        <form method="POST" action="{{ url_for('game_post') }}">
            <button type="submit" name="done" class="primary-btn w-full justify-center py-3 text-base">Game is
                over</button>
        </form>
    </div>
</div>
<script>
    let displayElement = document.getElementById("timer");
    let targetTime = new Date("{{ game.expected_end_time }}");

    {% include 'countdown_function.js' %}
</script>

{% endblock %}